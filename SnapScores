/*
*   Raina Wan
*/

#include <iostream>
using namespace std;
const int MAX_SIZE = 1000;

void fillArray(int a[], int oldSize, int& newSize);
//user interface to fill in each Snap Score

double computeAverage(const int a[], int newSize);
//calculate the sum of the Snap Scores and divide 
//it by the total number of Snap Scores

void showDifference(const int a[], int newSize);
//display the difference between each individual Snap
//Score and the average

int main()
{

	int scores[MAX_SIZE], newSize;

	cout << "This program reads Snapchat Snap Scores and shows\n"
		<< "how much each score differs from the average.\n\n";

	fillArray(scores, MAX_SIZE, newSize);
	showDifference(scores, newSize);

	return 0;
}

void fillArray(int a[], int oldSize, int& newSize)
{
	int score, index = 0;
	cout << "Enter up to " << oldSize << " nonnegative whole numbers (in thousandths).\n"
		 << "Mark the end of the list with a negative number.\n";
	cin >> score;

	while (index < oldSize && score >= 0)
	{
		a[index] = score;
		index++;
		cin >> score;
	}
	newSize = index;
}

double computeAverage(const int a[], int newSize)
{
	double sum = 0, average = 0.0;

	if (newSize == 0)
	{
		cout << "ERROR: Cannot calculate the average of negative Snap Scores\n";
		return 0;
	}
	else
	{
		for (int i = 0; i < newSize; i++)
		{
			sum += a[i];
		}
		average = sum / newSize;
		return average;
	}
}

void showDifference(const int a[], int newSize)
{
	double average = computeAverage(a, newSize);
	cout << "\nAverage of the " << newSize << " scores = " << average
		 << "\nThe Snap Score differences are:\n";

	for (int i = 0; i < newSize; i++)
	{
		cout.setf(ios::fixed);
		cout.setf(ios::showpoint);
		cout.precision(4);

		cout << a[i] << " differs from average by " << (a[i] - average) << endl;
	}
}
